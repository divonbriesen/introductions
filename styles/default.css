/* Tidied stylesheet - deduplicated and tightened.
   Preserves layout and styles required by HTML and scripts.
*/

html, body { height: 100%; }
body {
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background: linear-gradient(180deg, #fff7f1 0%, #fff2e6 45%, #fff7ef 100%);
  color: #2b2b2b;
  margin: 0;
  padding: 1rem;
}

/* Design tokens for card-like surfaces */
:root {
  --card-bg: #fffdfa;
  --card-radius: 10px;
  --card-border: 1px solid rgba(200,150,110,0.12);
  --card-shadow: 0 8px 24px rgba(50,30,10,0.08);
  --card-shadow-soft: 0 6px 18px rgba(50,30,10,0.03);
  --inner-bg-gradient: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,250,245,0.95));
}

/* Utilities and minimal helpers */
.visually-hidden { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px,1px,1px,1px); white-space: nowrap; }
.col { box-sizing: border-box; }
.centered { text-align: center; }
.italic { font-style: italic; }

/* Layout: form left (~800px) and preview (HTML rendering) on the right */
.workspace { display: flex; gap: 1.5rem; align-items: flex-start; justify-content: space-between; max-width: 1400px; margin: 0 auto; }
.form-col { flex: 0 0 800px; max-width: 800px; min-width: 0; box-sizing: border-box; padding: 1.25rem; }
.preview-col { flex: 1 1 0%; min-width: 280px; border-left: 1px solid #e6e6e6; padding-left: 1rem; }

/* Ensure the form itself doesn't add unexpected margins/padding inside the card */
.form-col > form { margin: 0; background: transparent; }

/* Shared card-like surface used by form, preview and fieldsets */
.form-col, .preview-col, fieldset {
  background: var(--card-bg);
  border-radius: var(--card-radius);
  box-shadow: var(--card-shadow);
  border: var(--card-border);
  box-sizing: border-box;
}

/* Preview card and its inner surface */
.preview-col { padding: 1.25rem; }
.preview-inner { background: var(--inner-bg-gradient); border-radius: calc(var(--card-radius) - 2px); padding: 0.9rem; box-sizing: border-box; }

.page-subtitle { text-align: center; color: #8b3e18; margin-top: 0.25rem; margin-bottom: 1rem; font-weight: 600; }

/* Small, consistent column headings for form and preview */
.form-col h3, .preview-col h3 {
  margin: 0 0 0.6rem 0;
  font-size: 1rem;
  font-weight: 700;
  color: #5a3220;
}

/* Inline 'add' button used inside the Courses label */
.inline-add { background: transparent; border: none; color: #b55d2a; font-weight: inherit; font-size: inherit; line-height: inherit; padding: 0 0.06rem; cursor: pointer; vertical-align: baseline; }
.inline-add:hover { text-decoration: underline; }
.inline-add:focus { outline: 2px dashed rgba(181,93,42,0.25); outline-offset: 3px; }

/* Fieldset cards */
fieldset { /* keep a slightly softer shadow and inner gradient for fieldsets */
  background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,250,245,0.9));
  margin: 0 0 1rem 0;
  padding: 0.9rem 0.95rem;
  box-shadow: var(--card-shadow-soft);
  width: 100%;
}
legend { font-weight: 700; color: #5a3220; padding: 0.15rem 0.55rem; margin-bottom: 0.5rem; background: linear-gradient(180deg,#fffefc,#fff6ee); border-radius: 6px; display: inline-block; }

/* Inputs */
input[type="text"], textarea, input[type="email"], input[type="url"] { border: 1px solid rgba(160,120,90,0.22); background-color: #fffefc; padding: 0.45rem 0.5rem; border-radius: 6px; outline: none; box-shadow: none; transition: border-color 160ms ease, box-shadow 160ms ease, background-color 120ms; font-family: inherit; box-sizing: border-box; width: 100%; }
input::placeholder, textarea::placeholder { color: #b99c86; }
input:focus, textarea:focus { border-color: #d77a3a; box-shadow: 0 2px 8px rgba(215,122,58,0.12); background-color: #fffdf9; }

/* Code panes */
.code-row { display: flex; gap: 1rem; margin-top: 1rem; }
.code-col { flex: 1 1 0%; }
#htmlOutput, #jsonOutput { min-height: 200px; width: 100%; box-sizing: border-box; background-color: #fffaf5; border: 1px solid rgba(160,120,90,0.12); padding: 0.6rem; border-radius: 6px; color: #2b2b2b; font-family: "Courier New", Courier, monospace; font-size: 0.95rem; line-height: 1.45; white-space: pre-wrap; }
.copy-btn { transition: transform 140ms ease; background: transparent; border: none; padding: 0.1rem 0.3rem; cursor: pointer; }
.copy-btn.copied { transform: scale(1.02); }
.copy-status { margin-left: 0.5rem; font-size: 0.95rem; color: #5a3220; }

/* Profile and image */
.profile-figure { display: flex; flex-direction: column; align-items: center; margin: 0.6rem 0; }
.profile-image, .profile-figure img { max-width: 100%; height: auto; border-radius: 6px; }
.profile-figure figcaption { font-style: italic; color: #5a4a3d; margin-top: 0.35rem; }
.image-preview { max-width: 72px; max-height: 72px; border-radius: 6px; margin-left: 0.5rem; border: 1px solid rgba(160,120,90,0.12); }

/* Display name */
.display-name { font-size: 1.45rem; text-align: center; margin: 0.35rem 0; color: #6b3f2a; }

/* Quote (rendered by script) */
.quote { font-style: normal; font-size: 1.05rem; margin: 0.6rem 0; }
.quote.centered { text-align: center; }
.quote-author { margin-top: 0.25rem; font-style: italic; color: #4b3326; }

/* Quote layout: inputs in the form (fieldset) */
.quote-row { display: flex; gap: 0.8rem; align-items: flex-start; }
.quote-author-col { flex: 0 0 180px; }
.quote-author-col input { width: 100%; box-sizing: border-box; }
.quote-text-col { display: flex; gap: 0.6rem; align-items: flex-start; flex: 1 1 0%; flex-wrap: wrap; }
.quote-text-col .fieldset-label { margin: 0; flex: 0 0 auto; white-space: nowrap; margin-right: 0.5rem; }
.quote-text-col textarea { flex: 1 1 100%; width: 100%; max-width: 500px; min-width: 14rem; box-sizing: border-box; }
.quote-author-row { display: flex; gap: 0.6rem; align-items: center; }
.quote-author-row .author-label { flex: 0 0 auto; margin: 0; }
.quote-author-row input { flex: 1 1 auto; width: auto; box-sizing: border-box; }

/* Courses (used by scripts) */
.courses-header { display: flex; gap: 0.5rem; align-items: center; padding: 0.4rem 0.6rem; font-weight: 600; color: #333; border-bottom: 1px solid #e6e6e6; }
.courses-header .col-num { flex: 0 0 2.2rem; }
.courses-header .col-dept { flex: 0 0 4rem; }
.courses-header .col-number { flex: 0 0 3rem; }
.courses-header .col-name { flex: 1 1 28%; min-width: 8rem; }
.courses-header .col-reason { flex: 0 1 300px; min-width: 10rem; }
.courses-header .col-actions { flex: 0 0 auto; min-width: 4.5rem; display:flex; justify-content:flex-end; align-items:center; }

.course-row { display: flex; gap: 0.5rem; border: 1px solid #eee; padding: 0.5rem; margin-top: 0.5rem; background: #fff; align-items: center; box-sizing: border-box; }
.course-row .col-num { flex: 0 0 2.2rem; font-weight: 600; text-align: center; }
.course-row .col-dept { flex: 0 0 4rem; }
.course-row .col-number { flex: 0 0 3rem; }
.course-row .col-name { flex: 1 1 28%; min-width: 8rem; }
.course-row .col-reason { flex: 0 1 300px; min-width: 10rem; }
.course-row .col-actions { flex: 0 0 auto; min-width: 4.5rem; display: flex; gap: 0.35rem; justify-content: flex-end; align-items: center; }
.course-row .col-dept input,
.course-row .col-number input,
.course-row .col-name input,
.course-row .col-reason input { width: 100%; box-sizing: border-box; padding: 0.35rem 0.45rem; }

.col-actions button { background: transparent; border: none; padding: 0.2rem; margin: 0; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; width: 34px; height: 34px; box-sizing: border-box; border-radius: 6px; color: #6b3f2a; }
.col-actions button:hover { background: rgba(200,160,120,0.06); }
.col-actions button:focus { outline: 2px solid rgba(215,122,58,0.16); }
.col-actions .icon-action { width: 20px; height: 20px; display: block; color: inherit; }
.col-actions .icon-action path, .col-actions .icon-action line, .col-actions .icon-action rect { stroke-width: 2.6; }
.remove-btn { color: #b02a2a; }
.add-below-btn { color: #1a7a2a; }
.move-up { color: #5a3a20; }

.add-below-btn { background: transparent; border: none; color: #080; font-size: 1.18rem; font-weight: 700; line-height: 1; padding: 0.08rem 0.35rem; cursor: pointer; }
.add-below-btn:hover { background: rgba(0,128,0,0.06); }
.add-below-btn:focus { outline: 2px solid rgba(0,128,0,0.2); }

.fieldset-label { display: block; font-weight: 600; margin-bottom: 0.35rem; color: #5a3220; }

/* Textarea sizing for larger fields */
#personalStatement, #quoteText { width: 100%; box-sizing: border-box; min-height: 3.2rem; }
#quoteAuthor { display: block; width: 100%; box-sizing: border-box; margin-top: 0.2rem; }

/* Responsive rules */
@media (max-width: 980px) { .workspace, .code-row { flex-direction: column; } .form-col { flex: none; width: 100%; max-width: 100%; } .preview-col { padding-left: 0; border-left: none; } }
@media (max-width: 720px) { .courses-header, .course-row { flex-direction: column; align-items: stretch; } .courses-header .col-actions, .course-row .col-actions { justify-content: flex-start; } .quote-row { flex-direction: column; } .quote-author-row { flex-direction: column; align-items: stretch; } .quote-author-row input { width: 100%; } }
